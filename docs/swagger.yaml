openapi: 3.0.3
info:
  title: Site Monitor API
  description: |
    ## üöÄ –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π API –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∞–π—Ç–æ–≤
    
    Site Monitor –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–π REST API –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤–µ–±-—Å–∞–π—Ç–æ–≤ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π, –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º –∑–∞–¥–∞–Ω–∏–π –∏ SSL –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º.
    
    ### ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
    - üåê **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∞–π—Ç–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏, –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞ –∏ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–æ–≤
    - üìä **–î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - DNS –≤—Ä–µ–º—è, TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, TLS handshake, TTFB
    - üîí **SSL –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏—Å—Ç–µ—á–µ–Ω–∏–∏
    - ‚è∞ **Cron –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫** - –≥–∏–±–∫–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∞–π—Ç–∞
    - üìà **ClickHouse –º–µ—Ç—Ä–∏–∫–∏** - –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
    - üîÑ **Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - Server-Sent Events –¥–ª—è –∂–∏–≤—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
    - üé® **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
    
    ### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
    - **Backend**: Go (Golang) —Å Gorilla Mux
    - **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL + ClickHouse
    - **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**: Cron-–ø–æ–¥–æ–±–Ω—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞–Ω–∏–π
    - **–ú–µ—Ç—Ä–∏–∫–∏**: –ë–∞—Ç—á–µ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ ClickHouse
    - **API**: RESTful —Å Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
    
    ### üö¶ –ö–∞–∫ –Ω–∞—á–∞—Ç—å:
    1. **–î–æ–±–∞–≤—å—Ç–µ —Å–∞–π—Ç**: `POST /api/sites` —Å URL —Å–∞–π—Ç–∞
    2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: `PUT /api/sites/{id}/config` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏
    3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É**: `POST /api/check` –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
    4. **–ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**: `GET /api/sites` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç—É—Å–æ–≤
    5. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –º–µ—Ç—Ä–∏–∫–∏**: `/api/metrics/*` endpoints –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
    
  version: 1.0.0
  contact:
    name: Site Monitor Support
    email: support@sitemonitor.com
    url: https://github.com/your-repo/site-monitor
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://sitemonitor.com/terms

servers:
  - url: http://localhost:8080/api
    description: –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
  - url: https://api.sitemonitor.com/api
    description: –ü—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä

tags:
  - name: sites
    description: üåê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º —Å–∞–π—Ç–æ–≤
    externalDocs:
      description: –£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ
      url: https://docs.sitemonitor.com/sites
  - name: dashboard
    description: üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –¥–∞—à–±–æ—Ä–¥
    externalDocs:
      description: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
      url: http://localhost:8080/
  - name: metrics
    description: üìà –î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
    externalDocs:
      description: –ú–µ—Ç—Ä–∏–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
      url: http://localhost:8080/metrics
  - name: ssl
    description: üîí SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
  - name: health
    description: üè• –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
  - name: config
    description: ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

paths:
  /sites:
    get:
      tags:
        - sites
      summary: üìã –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–∞–π—Ç—ã
      description: |
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤ —Å –∏—Ö —Ç–µ–∫—É—â–∏–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
        
        **–í–∫–ª—é—á–∞–µ—Ç:**
        - ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (up/down/unknown)
        - ‚è±Ô∏è –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
        - üîí –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞—Ö
        - üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–ø—Ç–∞–π–º–∞
        - ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
      operationId: getAllSites
      responses:
        '200':
          description: ‚úÖ –°–ø–∏—Å–æ–∫ —Å–∞–π—Ç–æ–≤ –ø–æ–ª—É—á–µ–Ω —É—Å–ø–µ—à–Ω–æ
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Site'
              examples:
                success:
                  summary: –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
                  value:
                    - id: 1
                      url: "https://example.com"
                      status: "up"
                      status_code: 200
                      response_time_ms: 450
                      content_length: 15420
                      ssl_valid: true
                      ssl_expiry: "2024-12-31T23:59:59Z"
                      uptime_percent: 99.5
                      total_checks: 1440
                      successful_checks: 1433
                      last_checked: "2024-01-01T12:00:00Z"
                      dns_time: 25
                      connect_time: 35
                      tls_time: 45
                      ttfb: 120
                    - id: 2
                      url: "https://api.example.com"
                      status: "down"
                      status_code: 500
                      last_error: "Internal Server Error"
                      uptime_percent: 95.2
        '500':
          description: ‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    post:
      tags:
        - sites
      summary: ‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Å–∞–π—Ç
      description: |
        –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–π —Å–∞–π—Ç –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å –±–∞–∑–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–µ—Ä–≤—É—é –ø—Ä–æ–≤–µ—Ä–∫—É.
        
        **–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:**
        - üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
        - ‚öôÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        - ‚è∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
        - üìä –ù–∞—á–∞–ª–æ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
      operationId: addSite
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddSiteRequest'
            examples:
              simple:
                summary: –ü—Ä–æ—Å—Ç–æ–π —Å–∞–π—Ç
                value:
                  url: "https://example.com"
              api:
                summary: API endpoint
                value:
                  url: "https://api.example.com/health"
      responses:
        '201':
          description: ‚úÖ –°–∞–π—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
              examples:
                success:
                  value:
                    message: "–°–∞–π—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"
                    url: "https://example.com"
        '400':
          description: ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                invalid_url:
                  summary: –ù–µ–≤–µ—Ä–Ω—ã–π URL
                  value:
                    error: "URL –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è"
        '409':
          description: ‚ö†Ô∏è –°–∞–π—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                duplicate:
                  value:
                    error: "–°–∞–π—Ç —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞"

  /sites/delete:
    delete:
      tags:
        - sites
      summary: üóëÔ∏è –£–¥–∞–ª–∏—Ç—å —Å–∞–π—Ç
      description: |
        –£–¥–∞–ª—è–µ—Ç —Å–∞–π—Ç –∏ –≤—Å—é —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –Ω–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –≤–∫–ª—é—á–∞—è:
        - üìä –ò—Å—Ç–æ—Ä–∏—é –ø—Ä–æ–≤–µ—Ä–æ–∫
        - ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
        - üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É
        - ‚è∞ Cron –∑–∞–¥–∞–Ω–∏—è
      operationId: deleteSite
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteSiteRequest'
            examples:
              delete_site:
                value:
                  url: "https://example.com"
      responses:
        '200':
          description: ‚úÖ –°–∞–π—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        '400':
          description: ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞
        '404':
          description: ‚ùå –°–∞–π—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω

  /sites/{id}/config:
    get:
      tags:
        - config
      summary: ‚öôÔ∏è –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–∞–π—Ç–∞
      description: |
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∞–π—Ç–∞, –≤–∫–ª—é—á–∞—è:
        - ‚è∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ (–∏–Ω—Ç–µ—Ä–≤–∞–ª –∏–ª–∏ cron)
        - üîß –ü–∞—Ä–∞–º–µ—Ç—Ä—ã HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
        - üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
        - üîí SSL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        - üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
      operationId: getSiteConfig
      parameters:
        - name: id
          in: path
          required: true
          description: ID —Å–∞–π—Ç–∞
          schema:
            type: integer
            example: 1
      responses:
        '200':
          description: ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SiteConfig'
        '400':
          description: ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π ID —Å–∞–π—Ç–∞
        '404':
          description: ‚ùå –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

    put:
      tags:
        - config
      summary: üîß –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–∞–π—Ç–∞
      description: |
        –û–±–Ω–æ–≤–ª—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è —Å–∞–π—Ç–∞. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:
        
        **‚è∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏—è:**
        - –ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω—ã–µ (–∫–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥/–º–∏–Ω—É—Ç/—á–∞—Å–æ–≤)
        - Cron –≤—ã—Ä–∞–∂–µ–Ω–∏—è (*/5 * * * * –¥–ª—è –∫–∞–∂–¥—ã—Ö 5 –º–∏–Ω—É—Ç)
        
        **üìä –ú–µ—Ç—Ä–∏–∫–∏:**
        - DNS Lookup Time
        - TCP Connect Time  
        - TLS Handshake Time
        - Time to First Byte (TTFB)
        - Content –∞–Ω–∞–ª–∏–∑
        
        **üîí SSL:**
        - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
        - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏—Å—Ç–µ—á–µ–Ω–∏–∏
        - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ
      operationId: updateSiteConfig
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SiteConfig'
            examples:
              basic_config:
                summary: –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
                value:
                  check_interval: 300
                  timeout: 30
                  expected_status: 200
                  enabled: true
              advanced_config:
                summary: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
                value:
                  cron_schedule: "*/5 * * * *"
                  schedule_enabled: true
                  timeout: 30
                  expected_status: 200
                  collect_dns_time: true
                  collect_connect_time: true
                  collect_tls_time: true
                  collect_ssl_details: true
                  ssl_alert_days: 30
                  notify_on_down: true
      responses:
        '200':
          description: ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
        '400':
          description: ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        '500':
          description: ‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

  /sites/{id}/history:
    get:
      tags:
        - sites
      summary: üìä –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ —Å–∞–π—Ç–∞
      description: |
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∞–π—Ç–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ:
        - üìÖ –í—Ä–µ–º–µ–Ω–∏ –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
        - ‚úÖ –°—Ç–∞—Ç—É—Å–µ –∏ –∫–æ–¥–µ –æ—Ç–≤–µ—Ç–∞
        - ‚è±Ô∏è –í—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞
        - ‚ùå –û—à–∏–±–∫–∞—Ö (–µ—Å–ª–∏ –±—ã–ª–∏)
      operationId: getSiteHistory
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
        - name: limit
          in: query
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π (–º–∞–∫—Å–∏–º—É–º 1000)
          schema:
            type: integer
            default: 100
            maximum: 1000
      responses:
        '200':
          description: ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –ø–æ–ª—É—á–µ–Ω–∞
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SiteHistory'
        '400':
          description: ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π ID —Å–∞–π—Ç–∞
        '500':
          description: ‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏

  /dashboard/stats:
    get:
      tags:
        - dashboard
      summary: üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞
      description: |
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞:
        - üåê –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∞–π—Ç–æ–≤
        - ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∞–π—Ç–æ–≤ –æ–Ω–ª–∞–π–Ω/–æ—Ñ—Ñ–ª–∞–π–Ω
        - üìà –°—Ä–µ–¥–Ω–∏–π –∞–ø—Ç–∞–π–º –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
        - ‚è±Ô∏è –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞
      operationId: getDashboardStats
      responses:
        '200':
          description: ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DashboardStats'
              examples:
                stats:
                  value:
                    total_sites: 15
                    sites_up: 14
                    sites_down: 1
                    avg_uptime: 98.7
                    avg_response_time: 450.5

  /check:
    post:
      tags:
        - sites
      summary: üîÑ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Å–µ—Ö —Å–∞–π—Ç–æ–≤
      description: |
        –ò–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∞–π—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.
        –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è:
        - üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        - üîÑ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
        - üìä –ü–æ–ª—É—á–µ–Ω–∏—è —Å–≤–µ–∂–∏—Ö –º–µ—Ç—Ä–∏–∫
      operationId: triggerCheck
      responses:
        '200':
          description: ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—â–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessResponse'
              examples:
                success:
                  value:
                    message: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∞–π—Ç–æ–≤"
        '500':
          description: ‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏

  /metrics/sites/{id}/hourly:
    get:
      tags:
        - metrics
      summary: üìà –ü–æ—á–∞—Å–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–∞–π—Ç–∞
      description: |
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—á–∞—Å–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∞–π—Ç–∞ –∏–∑ ClickHouse.
        –í–∫–ª—é—á–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
        - üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç—å
        - ‚è±Ô∏è –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞ (—Å—Ä–µ–¥–Ω–µ–µ, p95, p99, min, max)
        - üîç DNS, TCP, TLS, TTFB –º–µ—Ç—Ä–∏–∫–∏
        - üîí SSL —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
      operationId: getHourlyMetrics
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
        - name: hours
          in: query
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 24)
          schema:
            type: integer
            default: 24
            minimum: 1
            maximum: 720
      responses:
        '200':
          description: ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ–ª—É—á–µ–Ω—ã
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HourlyMetricsResponse'
        '400':
          description: ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π ID —Å–∞–π—Ç–∞
        '500':
          description: ‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫

  /metrics/sites/{id}/performance:
    get:
      tags:
        - metrics
      summary: üéØ –°–≤–æ–¥–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞
      description: |
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é —Å–≤–æ–¥–∫—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥:
        - üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫
        - üìà –ü—Ä–æ—Ü–µ–Ω—Ç –∞–ø—Ç–∞–π–º–∞
        - ‚è±Ô∏è –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤—Å–µ—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
        - üîÑ –¢—Ä–µ–Ω–¥—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
      operationId: getPerformanceSummary
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
        - name: hours
          in: query
          schema:
            type: integer
            default: 24
      responses:
        '200':
          description: ‚úÖ –°–≤–æ–¥–∫–∞ –ø–æ–ª—É—á–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PerformanceSummary'
        '400':
          description: ‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π ID —Å–∞–π—Ç–∞
        '500':
          description: ‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–æ–¥–∫–∏

  /ssl/alerts:
    get:
      tags:
        - ssl
      summary: üîí SSL –∞–ª–µ—Ä—Ç—ã
      description: |
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å—Ç–µ–∫–∞—é—Ç –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.
        –ü–æ–º–æ–≥–∞–µ—Ç –∑–∞–±–ª–∞–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–µ–≤.
      operationId: getSSLAlerts
      parameters:
        - name: days
          in: query
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 30)
          schema:
            type: integer
            default: 30
            minimum: 1
            maximum: 365
      responses:
        '200':
          description: ‚úÖ SSL –∞–ª–µ—Ä—Ç—ã –ø–æ–ª—É—á–µ–Ω—ã
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SSLAlertsResponse'
              examples:
                alerts:
                  value:
                    expiring_within_days: 30
                    certificates:
                      - site_id: 1
                        site_url: "https://example.com"
                        ssl_issuer: "Let's Encrypt"
                        ssl_expiry: "2024-02-15T00:00:00Z"
                        days_until_expiry: 15
                        is_valid: true

  /health:
    get:
      tags:
        - health
      summary: üè• –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
      description: |
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã:
        - üóÑÔ∏è –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
        - üìä –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ClickHouse
        - üåê –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–º—ã—Ö —Å–∞–π—Ç–æ–≤
        - ‚è∞ –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
      operationId: getSystemHealth
      responses:
        '200':
          description: ‚úÖ –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø–æ–ª—É—á–µ–Ω–æ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthResponse'
              examples:
                healthy:
                  summary: –í—Å–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç
                  value:
                    postgres_connected: true
                    clickhouse_connected: true
                    sites_count: 15
                    active_sites: 14
                    last_check: "2024-01-01T12:00:00Z"
                    timestamp: "2024-01-01T12:05:00Z"
                unhealthy:
                  summary: –ü—Ä–æ–±–ª–µ–º—ã —Å ClickHouse
                  value:
                    postgres_connected: true
                    clickhouse_connected: false
                    sites_count: 15
                    active_sites: 14
                    timestamp: "2024-01-01T12:05:00Z"

  /sse:
    get:
      tags:
        - health
      summary: üîÑ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
      description: |
        –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ø–æ—Ç–æ–∫—É Server-Sent Events –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
        - ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ —Å–∞–π—Ç–æ–≤
        - üìä –ù–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–æ–∫
        - ‚öôÔ∏è –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        - üîÑ –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
        
        **–§–æ—Ä–º–∞—Ç —Å–æ–±—ã—Ç–∏–π:**
        ```
        data: {"type": "site_checked", "data": {...}}
        data: {"type": "config_updated", "data": {...}}
        ```
      operationId: connectSSE
      responses:
        '200':
          description: ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
          content:
            text/event-stream:
              schema:
                type: string
                format: event-stream
              examples:
                connection:
                  value: |
                    data: {"type":"connected","data":{"message":"Connected to SSE"}}
                    
                    data: {"type":"site_checked","data":{"url":"https://example.com","status":"up"}}
                    
                    data: {"type":"ping","data":{"timestamp":"2024-01-01T12:00:00Z"}}

components:
  schemas:
    Site:
      type: object
      description: üåê –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∞–π—Ç–µ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
      properties:
        id:
          type: integer
          description: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Å–∞–π—Ç–∞
          example: 1
        url:
          type: string
          description: URL —Å–∞–π—Ç–∞
          example: "https://example.com"
        status:
          type: string
          enum: [up, down, unknown]
          description: |
            –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∞–π—Ç–∞:
            - ‚úÖ `up` - —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω
            - ‚ùå `down` - —Å–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω  
            - ‚ùì `unknown` - —Å—Ç–∞—Ç—É—Å –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω
          example: "up"
        status_code:
          type: integer
          description: HTTP –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞
          example: 200
        response_time_ms:
          type: integer
          description: –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
          example: 450
        content_length:
          type: integer
          description: –†–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ –±–∞–π—Ç–∞—Ö
          example: 15420
        ssl_valid:
          type: boolean
          description: –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
          example: true
        ssl_expiry:
          type: string
          format: date-time
          description: –î–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
          example: "2024-12-31T23:59:59Z"
        last_error:
          type: string
          description: –ü–æ—Å–ª–µ–¥–Ω—è—è –æ—à–∏–±–∫–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
          example: ""
        uptime_percent:
          type: number
          format: float
          description: –ü—Ä–æ—Ü–µ–Ω—Ç –∞–ø—Ç–∞–π–º–∞
          example: 99.5
        total_checks:
          type: integer
          description: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–æ–∫
          example: 1440
        successful_checks:
          type: integer
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
          example: 1433
        last_checked:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
          example: "2024-01-01T12:00:00Z"
        created_at:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–∞–π—Ç–∞
          example: "2024-01-01T00:00:00Z"
        # –î–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
        dns_time:
          type: integer
          description: –í—Ä–µ–º—è DNS lookup –≤ –º—Å
          example: 25
        connect_time:
          type: integer
          description: –í—Ä–µ–º—è TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤ –º—Å
          example: 35
        tls_time:
          type: integer
          description: –í—Ä–µ–º—è TLS handshake –≤ –º—Å
          example: 45
        ttfb:
          type: integer
          description: Time to First Byte –≤ –º—Å
          example: 120
        content_hash:
          type: string
          description: –•–µ—à –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
          example: "abc123def456"
        redirect_count:
          type: integer
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤
          example: 2
        final_url:
          type: string
          description: –§–∏–Ω–∞–ª—å–Ω—ã–π URL –ø–æ—Å–ª–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤
          example: "https://www.example.com/"
        # SSL –¥–µ—Ç–∞–ª–∏
        ssl_key_length:
          type: integer
          description: –î–ª–∏–Ω–∞ SSL –∫–ª—é—á–∞ –≤ –±–∏—Ç–∞—Ö
          example: 2048
        ssl_algorithm:
          type: string
          description: –ê–ª–≥–æ—Ä–∏—Ç–º SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
          example: "RSA"
        ssl_issuer:
          type: string
          description: –ò–∑–¥–∞—Ç–µ–ª—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
          example: "Let's Encrypt Authority X3"
        # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ
        server_type:
          type: string
          description: –¢–∏–ø –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
          example: "nginx/1.20.1"
        powered_by:
          type: string
          description: –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è —Å–∞–π—Ç–∞
          example: "PHP/8.1"
        content_type:
          type: string
          description: MIME —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞
          example: "text/html; charset=utf-8"
        cache_control:
          type: string
          description: –ó–∞–≥–æ–ª–æ–≤–æ–∫ Cache-Control
          example: "max-age=3600"
        config:
          $ref: '#/components/schemas/SiteConfig'
          description: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∞–π—Ç–∞

    SiteConfig:
      type: object
      description: ‚öôÔ∏è –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∞–π—Ç–∞
      properties:
        site_id:
          type: integer
          description: ID —Å–∞–π—Ç–∞
          example: 1
        # –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–≤–µ—Ä–∫–∏
        check_interval:
          type: integer
          description: –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ—Å–ª–∏ cron –æ—Ç–∫–ª—é—á–µ–Ω)
          example: 300
        cron_schedule:
          type: string
          description: |
            Cron –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫
            
            **–ü—Ä–∏–º–µ—Ä—ã:**
            - `*/5 * * * *` - –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
            - `0 */2 * * *` - –∫–∞–∂–¥—ã–µ 2 —á–∞—Å–∞
            - `0 9 * * 1-5` - –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 9:00 –ø–æ –±—É–¥–Ω—è–º
          example: "*/5 * * * *"
        schedule_enabled:
          type: boolean
          description: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cron —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤–º–µ—Å—Ç–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
          example: true
        timeout:
          type: integer
          description: –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
          example: 30
        expected_status:
          type: integer
          description: –û–∂–∏–¥–∞–µ–º—ã–π HTTP –∫–æ–¥ (0 –¥–ª—è –ª—é–±–æ–≥–æ 2xx)
          example: 200
        # HTTP –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        follow_redirects:
          type: boolean
          description: –°–ª–µ–¥–æ–≤–∞—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º
          example: true
        max_redirects:
          type: integer
          description: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤
          example: 10
        user_agent:
          type: string
          description: User-Agent –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
          example: "Site-Monitor/1.0"
        headers:
          type: object
          additionalProperties:
            type: string
          description: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
          example:
            Authorization: "Bearer token"
            X-Custom-Header: "value"
        # SSL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        check_ssl:
          type: boolean
          description: –ü—Ä–æ–≤–µ—Ä—è—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
          example: true
        ssl_alert_days:
          type: integer
          description: –ó–∞ —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è SSL —É–≤–µ–¥–æ–º–ª—è—Ç—å
          example: 30
        # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        check_keywords:
          type: string
          description: –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
          example: "success,completed,welcome"
        avoid_keywords:
          type: string
          description: –ù–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞ –≤ –∫–æ–Ω—Ç–µ–Ω—Ç–µ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
          example: "error,404,maintenance"
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
        collect_dns_time:
          type: boolean
          description: –°–æ–±–∏—Ä–∞—Ç—å DNS –≤—Ä–µ–º—è
          example: true
        collect_connect_time:
          type: boolean
          description: –°–æ–±–∏—Ä–∞—Ç—å –≤—Ä–µ–º—è TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
          example: true
        collect_tls_time:
          type: boolean
          description: –°–æ–±–∏—Ä–∞—Ç—å –≤—Ä–µ–º—è TLS handshake
          example: true
        collect_ttfb:
          type: boolean
          description: –°–æ–±–∏—Ä–∞—Ç—å Time to First Byte
          example: true
        collect_content_hash:
          type: boolean
          description: –°–æ–±–∏—Ä–∞—Ç—å —Ö–µ—à –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
          example: false
        collect_redirects:
          type: boolean
          description: –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
          example: true
        collect_ssl_details:
          type: boolean
          description: –°–æ–±–∏—Ä–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ SSL
          example: true
        collect_server_info:
          type: boolean
          description: –°–æ–±–∏—Ä–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä–≤–µ—Ä–µ
          example: false
        collect_headers:
          type: boolean
          description: –°–æ–±–∏—Ä–∞—Ç—å HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
          example: false
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        show_response_time:
          type: boolean
          description: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
          example: true
        show_content_length:
          type: boolean
          description: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞
          example: true
        show_uptime:
          type: boolean
          description: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∞–ø—Ç–∞–π–º–∞
          example: true
        show_ssl_info:
          type: boolean
          description: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ SSL
          example: true
        show_server_info:
          type: boolean
          description: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä–≤–µ—Ä–µ
          example: false
        show_performance:
          type: boolean
          description: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
          example: true
        show_redirect_info:
          type: boolean
          description: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞—Ö
          example: false
        show_content_info:
          type: boolean
          description: –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω—Ç–µ–Ω—Ç–µ
          example: false
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        enabled:
          type: boolean
          description: –í–∫–ª—é—á–µ–Ω –ª–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∞–π—Ç–∞
          example: true
        notify_on_down:
          type: boolean
          description: –£–≤–µ–¥–æ–º–ª—è—Ç—å –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ —Å–∞–π—Ç–∞
          example: true
        notify_on_up:
          type: boolean
          description: –£–≤–µ–¥–æ–º–ª—è—Ç—å –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–∞–π—Ç–∞
          example: true
        created_at:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        updated_at:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

    SiteHistory:
      type: object
      description: üìä –ó–∞–ø–∏—Å—å –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∞–π—Ç–∞
      properties:
        id:
          type: integer
          description: ID –∑–∞–ø–∏—Å–∏
          example: 12345
        site_id:
          type: integer
          description: ID —Å–∞–π—Ç–∞
          example: 1
        status:
          type: string
          enum: [up, down, unknown]
          description: –°—Ç–∞—Ç—É—Å –Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
          example: "up"
        status_code:
          type: integer
          description: HTTP –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞
          example: 200
        response_time_ms:
          type: integer
          description: –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –≤ –º—Å
          example: 450
        error:
          type: string
          description: –¢–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ –±—ã–ª–∞)
          example: ""
        checked_at:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏
          example: "2024-01-01T12:00:00Z"

    DashboardStats:
      type: object
      description: üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞
      properties:
        total_sites:
          type: integer
          description: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∞–π—Ç–æ–≤
          example: 15
        sites_up:
          type: integer
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∞–π—Ç–æ–≤ –æ–Ω–ª–∞–π–Ω
          example: 14
        sites_down:
          type: integer
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∞–π—Ç–æ–≤ –æ—Ñ—Ñ–ª–∞–π–Ω
          example: 1
        avg_uptime:
          type: number
          format: float
          description: –°—Ä–µ–¥–Ω–∏–π –∞–ø—Ç–∞–π–º –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
          example: 98.7
        avg_response_time:
          type: number
          format: float
          description: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –≤ –º—Å
          example: 450.5

    HourlyMetricsResponse:
      type: object
      description: üìà –û—Ç–≤–µ—Ç —Å –ø–æ—á–∞—Å–æ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
      properties:
        site_id:
          type: integer
          description: ID —Å–∞–π—Ç–∞
          example: 1
        hours:
          type: integer
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤
          example: 24
        metrics:
          type: array
          items:
            $ref: '#/components/schemas/HourlyMetrics'

    HourlyMetrics:
      type: object
      description: üìä –ü–æ—á–∞—Å–æ–≤—ã–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
      properties:
        hour:
          type: string
          format: date-time
          description: –ß–∞—Å (–Ω–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞)
          example: "2024-01-01T12:00:00Z"
        site_id:
          type: integer
          description: ID —Å–∞–π—Ç–∞
          example: 1
        site_url:
          type: string
          description: URL —Å–∞–π—Ç–∞
          example: "https://example.com"
        total_checks:
          type: integer
          description: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ –∑–∞ —á–∞—Å
          example: 12
        successful_checks:
          type: integer
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
          example: 11
        avg_response_time:
          type: number
          format: float
          description: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –≤ –º—Å
          example: 450.5
        p95_response_time:
          type: number
          format: float
          description: 95-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞
          example: 680.2
        p99_response_time:
          type: number
          format: float
          description: 99-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞
          example: 850.1
        min_response_time:
          type: integer
          description: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –≤ –º—Å
          example: 320
        max_response_time:
          type: integer
          description: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –≤ –º—Å
          example: 920
        avg_dns_time:
          type: number
          format: float
          description: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è DNS lookup –≤ –º—Å
          example: 25.5
        avg_connect_time:
          type: number
          format: float
          description: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≤ –º—Å
          example: 35.2
        avg_tls_time:
          type: number
          format: float
          description: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è TLS handshake –≤ –º—Å
          example: 45.8
        avg_ttfb:
          type: number
          format: float
          description: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –±–∞–π—Ç–∞ –≤ –º—Å
          example: 120.3

    PerformanceSummary:
      type: object
      description: üéØ –°–≤–æ–¥–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∞–π—Ç–∞
      properties:
        site_id:
          type: integer
          description: ID —Å–∞–π—Ç–∞
          example: 1
        site_url:
          type: string
          description: URL —Å–∞–π—Ç–∞
          example: "https://example.com"
        period:
          type: string
          description: –ü–µ—Ä–∏–æ–¥ –∞–Ω–∞–ª–∏–∑–∞
          example: "Last 24 hours"
        data_from:
          type: string
          format: date-time
          description: –ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö
          example: "2024-01-01T00:00:00Z"
        data_to:
          type: string
          format: date-time
          description: –ö–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö
          example: "2024-01-01T23:59:59Z"
        total_checks:
          type: integer
          description: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–æ–∫
          example: 288
        successful_checks:
          type: integer
          description: –£—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
          example: 285
        uptime_percent:
          type: number
          format: float
          description: –ü—Ä–æ—Ü–µ–Ω—Ç –∞–ø—Ç–∞–π–º–∞
          example: 99.0
        avg_response_time_ms:
          type: number
          format: float
          description: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞
          example: 450.5
        avg_dns_time_ms:
          type: number
          format: float
          description: –°—Ä–µ–¥–Ω–µ–µ DNS –≤—Ä–µ–º—è
          example: 25.2
        avg_connect_time_ms:
          type: number
          format: float
          description: –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
          example: 35.1
        avg_tls_time_ms:
          type: number
          format: float
          description: –°—Ä–µ–¥–Ω–µ–µ TLS –≤—Ä–µ–º—è
          example: 45.7
        avg_ttfb_ms:
          type: number
          format: float
          description: –°—Ä–µ–¥–Ω–∏–π TTFB
          example: 120.8

    SSLAlertsResponse:
      type: object
      description: üîí –û—Ç–≤–µ—Ç —Å SSL –∞–ª–µ—Ä—Ç–∞–º–∏
      properties:
        expiring_within_days:
          type: integer
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–∞—é—â–∏—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
          example: 30
        certificates:
          type: array
          items:
            $ref: '#/components/schemas/SSLCertificate'

    SSLCertificate:
      type: object
      description: üîí –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ
      properties:
        site_id:
          type: integer
          description: ID —Å–∞–π—Ç–∞
          example: 1
        site_url:
          type: string
          description: URL —Å–∞–π—Ç–∞
          example: "https://example.com"
        ssl_issuer:
          type: string
          description: –ò–∑–¥–∞—Ç–µ–ª—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
          example: "Let's Encrypt Authority X3"
        ssl_expiry:
          type: string
          format: date-time
          description: –î–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è
          example: "2024-02-15T00:00:00Z"
        days_until_expiry:
          type: integer
          description: –î–Ω–µ–π –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è
          example: 15
        is_valid:
          type: boolean
          description: –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–µ–Ω
          example: true

    HealthResponse:
      type: object
      description: üè• –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
      properties:
        postgres_connected:
          type: boolean
          description: PostgreSQL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
          example: true
        clickhouse_connected:
          type: boolean
          description: ClickHouse –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
          example: true
        sites_count:
          type: integer
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∞–π—Ç–æ–≤
          example: 15
        active_sites:
          type: integer
          description: –ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–∞–π—Ç–æ–≤
          example: 14
        last_check:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
          example: "2024-01-01T12:00:00Z"
        timestamp:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
          example: "2024-01-01T12:05:00Z"

    AddSiteRequest:
      type: object
      description: ‚ûï –ó–∞–ø—Ä–æ—Å –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∞–π—Ç–∞
      required:
        - url
      properties:
        url:
          type: string
          format: uri
          description: |
            URL —Å–∞–π—Ç–∞ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
            
            **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã:**
            - `https://` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
            - `http://`
            
            **–ü—Ä–∏–º–µ—Ä—ã:**
            - `https://example.com`
            - `https://api.example.com/health`
            - `http://internal-service.local:8080`
          example: "https://example.com"

    DeleteSiteRequest:
      type: object
      description: üóëÔ∏è –ó–∞–ø—Ä–æ—Å –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ —Å–∞–π—Ç–∞
      required:
        - url
      properties:
        url:
          type: string
          description: URL —Å–∞–π—Ç–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
          example: "https://example.com"

    SuccessResponse:
      type: object
      description: ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
      properties:
        message:
          type: string
          description: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
          example: "–û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ"

    ErrorResponse:
      type: object
      description: ‚ùå –û—Ç–≤–µ—Ç —Å –æ—à–∏–±–∫–æ–π
      properties:
        error:
          type: string
          description: –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
          example: "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏"

  examples:
    SiteExample:
      summary: –ü—Ä–∏–º–µ—Ä —Å–∞–π—Ç–∞ —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
      value:
        id: 1
        url: "https://example.com"
        status: "up"
        status_code: 200
        response_time_ms: 450
        content_length: 15420
        ssl_valid: true
        ssl_expiry: "2024-12-31T23:59:59Z"
        uptime_percent: 99.5
        total_checks: 1440
        successful_checks: 1433
        dns_time: 25
        connect_time: 35
        tls_time: 45
        ttfb: 120
        ssl_algorithm: "RSA"
        ssl_key_length: 2048
        ssl_issuer: "Let's Encrypt Authority X3"
        server_type: "nginx/1.20.1"
        last_checked: "2024-01-01T12:00:00Z"

  parameters:
    SiteIdParam:
      name: id
      in: path
      required: true
      description: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–∞–π—Ç–∞
      schema:
        type: integer
        minimum: 1
      example: 1

    HoursParam:
      name: hours
      in: query
      description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (–æ—Ç 1 –¥–æ 720)
      schema:
        type: integer
        minimum: 1
        maximum: 720
        default: 24
      example: 24

    LimitParam:
      name: limit
      in: query
      description: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –æ—Ç–≤–µ—Ç–µ
      schema:
        type: integer
        minimum: 1
        maximum: 1000
        default: 100
      example: 100

    DaysParam:
      name: days
      in: query
      description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–∞—é—â–∏—Ö SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
      schema:
        type: integer
        minimum: 1
        maximum: 365
        default: 30
      example: 30

externalDocs:
  description: üìö –ù–∞–π—Ç–∏ –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ Site Monitor
  url: https://github.com/your-repo/site-monitor
